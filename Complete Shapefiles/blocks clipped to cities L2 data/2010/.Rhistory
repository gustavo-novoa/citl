install.packages('dplyr')
install.packages('tidyverse')
install.packages('redist')
install.packages('ggplot2')
install.packages('rstanarm')
install.packages('rstanarm')
install.packages('stringr')
install.packages('tidycensus')
install.packages('censable')
install.packages('stargazer')
install.packages('sjPlot')
install.packages('foreign')
install.packages('haven')
install.packages('tidyr')
install.packages('sf')
install.packages('data.table')
?redist_smc
library(redist)
print(Sys.time())
library(redist)
city<-sf::st_read('/Users/gnovoa/Library/Mobile Documents/com~apple~CloudDocs/Documents/Coloring in the Lines/RR/Complete Shapefiles/blocks clipped to cities L2 data/2020/atlanta_L2/atlanta_L2.shp')
city<-redist::redist_map(city,pop_tol=.1, ndists=12,total_pop=c("pop", "cvap", "vap","total_reg","vtd_all"))
adj<- redist::redist.adjacency(city)
city$adj<-adj
constr<-redist_constr(city)
constr <- add_constr_segregation(constr, strength=1, group_pop=pp_blck, total_pop=pop)
r_seg<-redist::redist_smc(city, 10000, compactness=1, constraints=constr, ncors=12)
print(Sys.time())
library(redist)
city<-sf::st_read('/Users/gnovoa/Library/Mobile Documents/com~apple~CloudDocs/Documents/Coloring in the Lines/RR/Complete Shapefiles/blocks clipped to cities L2 data/2020/atlanta_L2/atlanta_L2.shp')
city<-redist::redist_map(city,pop_tol=.1, ndists=12,total_pop=c("pop", "cvap", "vap","total_reg","vtd_all"))
adj<- redist::redist.adjacency(city)
city$adj<-adj
constr<-redist_constr(city)
constr <- add_constr_segregation(constr, strength=1, group_pop=pp_blck, total_pop=pop)
r_seg<-redist::redist_smc(city, 10000, compactness=1, constraints=constr, ncores=12)
print(Sys.time())
city<-sf::st_read('/Users/gnovoa/Library/Mobile Documents/com~apple~CloudDocs/Documents/Coloring in the Lines/RR/Complete Shapefiles/blocks clipped to cities L2 data/2020/chicago_L2/chicago_L2.shp')
print(Sys.time())
library(redist)
city<-sf::st_read('/Users/gnovoa/Library/Mobile Documents/com~apple~CloudDocs/Documents/Coloring in the Lines/RR/Complete Shapefiles/blocks clipped to cities L2 data/2020/chicago_L2/chicago_L2.shp')
city<-redist::redist_map(city,pop_tol=.1, ndists=50,total_pop=c("pop", "cvap", "vap","total_reg","vtd_all"))
adj<- redist::redist.adjacency(city)
city$adj<-adj
constr<-redist_constr(city)
constr <- add_constr_segregation(constr, strength=1, group_pop=pp_blck, total_pop=pop)
r_seg<-redist::redist_smc(city, 10000, compactness=1, constraints=constr, ncores=12)
print(Sys.time())
library(tidycensus)
?tidycensus::get_decennial()
print(Sys.time())
library(redist)
city<-sf::st_read('/Users/gnovoa/Library/Mobile Documents/com~apple~CloudDocs/Documents/Coloring in the Lines/RR/Complete Shapefiles/blocks clipped to cities L2 data/2020/phoenix_L2.shp')
setwd("/Users/gnovoa/Library/Mobile Documents/com~apple~CloudDocs/Documents/Coloring in the Lines/RR/Complete Shapefiles/blocks clipped to cities L2 data/2010")
list.files()\
list.files()
city<-sf::st_read('phoenix_L2.shp')
city<-redist::redist_map(city,pop_tol=.1, ndists=8,total_pop=c("pop", "cvap", "vap","total_reg","vtd_all"))
file.choose()
city_agg<-st_read("/Users/gnovoa/Library/Mobile Documents/com~apple~CloudDocs/Documents/Coloring in the Lines/RR/Complete Shapefiles/block data aggregated to districts L2/2010/phoenix_districts_summary_2010_L2.shp")
library(sf)
city_agg<-st_read("/Users/gnovoa/Library/Mobile Documents/com~apple~CloudDocs/Documents/Coloring in the Lines/RR/Complete Shapefiles/block data aggregated to districts L2/2010/phoenix_districts_summary_2010_L2.shp")
city<-redist::redist_map(city,pop_tol=.05, ndists=n_distinct(city_agg$distrct),total_pop=c("pop", "cvap", "vap","total_reg","vtd_all"))
adj<- redist::redist.adjacency(city)
city$adj<- redist::redist.adjacency(city)
n_distinct(city_agg$distrct)
dplyr::n_distinct(city_agg$distrct)
plans<-redist::redist_smc(city, 10000, compactness=1, constraints=constr, ncores=12, runs=3)
abs(min(city_agg$pop)/max(city_agg$pop) -1)
plans<-redist::redist_smc(city, 10000, compactness=1, constraints=constr, ncores=12, runs=3)
plans<-redist::redist_smc(city, 10000, compactness=1, ncores=12, runs=3)
city<-redist::redist_map(city,pop_tol=.05, ndists=n_distinct(city_agg$distrct),total_pop=c("pop", "cvap", "vap","total_reg","vtd_all"))
city<-redist::redist_map(city,pop_tol=.05, ndists=n_distinct(city_agg$distrct),total_pop="pop")
library(dplyr)
city<-redist::redist_map(city,pop_tol=.05, ndists=n_distinct(city_agg$distrct),total_pop="pop")
city<-sf::st_read('phoenix_L2.shp')
city<-redist::redist_map(city,pop_tol=.05, ndists=n_distinct(city_agg$distrct),total_pop="pop")
print(Sys.time())
library(sf)
library(redist)
library(dplyr)
setwd("/Users/gnovoa/Library/Mobile Documents/com~apple~CloudDocs/Documents/Coloring in the Lines/RR/Complete Shapefiles/blocks clipped to cities L2 data/2010")
city<-sf::st_read('phoenix_L2.shp')
city_agg<-st_read("/Users/gnovoa/Library/Mobile Documents/com~apple~CloudDocs/Documents/Coloring in the Lines/RR/Complete Shapefiles/block data aggregated to districts L2/2010/phoenix_districts_summary_2010_L2.shp")
city<-redist::redist_map(city,pop_tol=.05, ndists=n_distinct(city_agg$distrct),total_pop="pop")
city$adj<- redist::redist.adjacency(city)
plans<-redist::redist_smc(city, 10000, compactness=1, ncores=12, runs=3)
